---


# yaml-language-server: $schema=https://kubernetes-schemas.trux.dev/batch/job_v1.json
apiVersion: batch/v1
kind: Job
metadata:
  name: &app yt-dlp-jon-ong
  namespace: scripts
  labels:
    app: *app
spec:
  template:
    spec:
      restartPolicy: Never
      containers:
        - name: *app
          image: ghcr.io/truxnell/yt-dlp:2023.07.06@sha256:588c7b2b681e8bd6128441d4a11d9359397dbd91cfb7c432d0c62ec5e447de1b
          imagePullPolicy: IfNotPresent
          command: ['/usr/local/bin/yt-dlp']
          args:
            - -f
            - ba
            - https://www.twitch.tv/videos/1665385955
            - --remux-video
            - opus
            - -o
            - /music/Jonathan Ong/Twitch Highlights/%(title)s.%(ext)s
            - --add-metadata
            - --embed-thumbnail
            - --parse-metadata
            - Twitch Highlights:%(meta_album)s
            - --parse-metadata
            - Jonathan Ong:%(meta_artist)s
            - --parse-metadata
            - Jonathan Ong:%(meta_album_artist)s
            - --parse-metadata
            - Knights who say Ni:%(meta_title)s
            - --download-sections
            - '*2:14:54-2:15:53'
          volumeMounts:
            - mountPath: /music
              name: nas
      volumes:
        - name: nas
          nfs:
            server: 'helios'
            path: /tank/music/
